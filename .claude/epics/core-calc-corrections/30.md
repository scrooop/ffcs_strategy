---
name: Integration Testing & Validation
status: open
created: 2025-10-20T04:35:49Z
updated: 2025-10-20T04:47:03Z
github: https://github.com/scrooop/ffcs_strategy/issues/30
depends_on: [24, 27]
parallel: false
conflicts_with: []
---

# Task 010: Integration Testing & Validation

## Description

Comprehensive end-to-end testing of v2.2 scanner: formula validation, CSV output verification, performance regression testing, and comparison with v2.1 baseline.

## Acceptance Criteria

- [ ] Run end-to-end scan with known symbols (SPY, QQQ, AAPL, TSLA, NVDA)
- [ ] Validate CSV output schema (all 32 columns present, correct types)
- [ ] Verify ATM structure: atm_ff used for filtering, 50Δ strikes within ±5Δ (95%+ accuracy)
- [ ] Verify double structure: min_ff used for filtering, both wings meet threshold
- [ ] Hand-calculate FF for 3 sample opportunities, verify against scanner output (±0.0001 tolerance)
- [ ] Performance regression test: 100/500/1000 symbols, compare scan times vs v2.1 baseline
- [ ] Volume filter test: verify symbols below threshold are skipped with correct reason
- [ ] IV source test: verify Greeks IV used by default, log any ex-earn fallback cases
- [ ] Edge case test: symbols with missing IV, non-positive variance, expiration mismatches
- [ ] Compare v2.1 vs v2.2 trade counts (document 5-15% expected change)
- [ ] Spot-check 5 high-FF opportunities manually for accuracy

## Technical Details

- Test scripts: create test suite in tests/ directory (if not exists)
- Comparison: run same symbols through v2.1 and v2.2, document differences
- Performance: use time command or built-in profiling
- Manual validation: spreadsheet with hand-calculated FF values

## Dependencies

- Task 008 (CSV schema finalized)
- Task 009 (documentation ready for reference)

## Effort Estimate

- Size: M
- Hours: 4-6
- Parallel: false (final validation gate)

## Definition of Done

- [ ] All integration tests passing
- [ ] CSV schema validated (32 columns correct)
- [ ] Performance benchmarks meet targets (no regression)
- [ ] Manual spot-checks confirm accuracy
- [ ] v2.1 vs v2.2 comparison documented
- [ ] Edge cases handled gracefully
- [ ] Test results documented in epic
